env:
  global:
    - secure: W71JUXayFB+qaKdNFEiAPNbd2QgiSksGjoVgATDptsiOrhzPj/TxlhyJCiFLrPFYEbbhtLu/Y5aHT8fWftjj1F3cWqRdTPSmUNBcx4Ei6VHh9N2z8KatsQJBjr+B+uEuckCLIOmcabSbPQ0QbRKh3FAX6kJr5aHEfOf91SqXvNaVMNBehtjPHB/Xp7L1LykxWVh9P59uazz3gjEpstnGFtQhosuyrXEO2IH8vR9j26hfYQqPMuIIVR3aRuu2PPso25R2ZtEHMEbqRaSJOhiJHBeplxXjkbhTksnMOYO7GrweD85cb9U2tyjdjspLnJUqXCkziiVa71Y9cf6mLt9o36EXLjREoGLGDX4x44uynz56gLIDiqY3KLT+LJTJkHGKrujwstIf9GzF+g3WsoJ0b3y+sVUQlcePze7+sJqrG1rZFsJDhPI8W1yi8ZqpJRB3QTYarOnobxE91bzWoPyPDxE7jT8yGLh9QqhpPhQwERGlD6Vf9Aa2477zGg/WDaaRw8vIkMy/1lRi/hLzrnLdFCWgttU58I1xYYx74itjKOaKhIQ96Bzs7G4BxJYVgJYbAHerS4V/hqv8QBT1aC3tTL1cnPeQ4+DwBrdIaQysN0gRGcCCcKKZFeOYcnoCjs9BLOOmei8DLOA9vzu6EJUewI0FFgIMHMq9bJA+wAP/HLk=
    - GIT_NAME: Travis CI
    - GIT_EMAIL: dead-hosts@funilrys.com
    - TRAVIS_REPO_SLUG: dead-hosts/hosts_git_StevenBlack
    - GIT_BRANCH: master
    - UPDATE_ME_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/update_me.py
    - ADMIN_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/admin.py

dist: xenial
sudo: required

language: python

python:
  - "3.7"

matrix:
  fast_finish: true

cache:
  - pip

addons:
  apt:
    packages:
      - dos2unix

install:
  - pip3 install --upgrade pip
  - pip3 install requests

before_script:
  - if [[ ! -f .administrators ]]; then wget "${UPDATE_ME_LOCATION}" -o /dev/null -O update_me.py && chmod +x update_me.py; else echo "update_me not downloaded :)"; fi
  - if [[ ! -f .administrators ]]; then wget "${ADMIN_LOCATION}" -o /dev/null -O admin.py && chmod +x admin.py; else echo "admin not downloaded :)"; fi

script:
  - python3 update_me.py

notifications:
  on_success: change
  on_failure: always
